{
    "collab_server" : "",
    "contents" : "rm(list=ls(all.names = TRUE))\n\n#1.library\nlibrary(tm)\nlibrary(tmcn)\nlibrary(Rwordseg)\nlibrary(jiebaR)\nlibrary(rJava)\nlibrary(SnowballC) # 似乎是上面某個套件的輔助\nlibrary(slam)  # 似乎是上面某個套件的輔助\n\n\n#2.get data\nm<-\"C:/Users/ASUS/Dropbox/R/R/thesis/TM1\" #檔案路徑  \nmycorpus <- Corpus(DirSource(m),list(language = NA)) #讀取路徑下所有txt\n\nmycorpus <- tm_map(mycorpus, removePunctuation)\nmycorpus <- tm_map(mycorpus, stripWhitespace)\nmycorpus <- tm_map(mycorpus, removeNumbers)\nmycorpus <- tm_map(mycorpus, function(word) {\n  gsub(\"[A-Za-z0-9]\", \"\", word)\n})\n\n#3.斷詞\n\nmycorpus1 <- tm_map(mycorpus, segmentCN, nature = TRUE) \n#主要是這邊會出現error\n#Error in get(\"Analyzer\", envir = .RwordsegEnv) : object '.RwordsegEnv' not found\n#好像打開後第一次切不會error 後來每一次都會\nmycorpus2 <- Corpus(VectorSource(mycorpus1)) \n\n\n c<-data.frame(text = sapply(mycorpus2, as.character), stringsAsFactors = FALSE)\n write.table(c,file=\"data2\") #匯出檔案方便確認結果\n\n#4.停止詞\nmyStopWords <- c(toTrad(stopwordsCN()),\"一下\")\nmycorpus3 <- tm_map(mycorpus2, removeWords, myStopWords)\n\nc<-data.frame(text = sapply(mycorpus3, as.character), stringsAsFactors = FALSE)\nwrite.table(c,file=\"data2X\")\n\nlibrary(wordcloud)\n\ntdm <- TermDocumentMatrix(mycorpus3, control = list(wordLengths = c(2, Inf)))\n\nm1 <- as.matrix(tdm)\nv <- sort(rowSums(m1), decreasing = TRUE)\nd <- data.frame(word = names(v), freq = v)\nwordcloud(d$word, d$freq, min.freq = 10, random.order = F, ordered.colors = F, \n          colors = rainbow(length(row.names(m1))))\n\n",
    "created" : 1502620579403.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3031166406",
    "id" : "F7782463",
    "lastKnownWriteTime" : 1502712503,
    "last_content_update" : 1502712349857,
    "path" : "C:/Users/ASUS/Dropbox/R/R/thesis/TM1/try1.R",
    "project_path" : "try1.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}